[tool.poetry]
name = "Sith"
version = "3"
description = "Le web Sith de l'AE"
authors = [
	"Skia <skia@hya.sk>",
	"klmp200 <antoine@bartuccio.fr>",
	"Krophil <pierre.brunet@krophil.fr>",
	"Mar√©chal <thgirod@hotmail.com>",
	"Och <francescowitz68@gmail.com>",
	"tleb <tleb@openmailbox.org>",
	"Soldat <ryan-68@live.fr>",
	"Nabos <gnikwo@hotmail.com>",
	"Terre <jbaptiste.lenglet+git@gmail.com>",
	"Lo-J <renaudg779@gmail.com>",
	"Vial <robin.trioux@utbm.fr>"
]
documentation = "https://sith-ae.readthedocs.io/"
homepage = "https://ae.utbm.fr/"
license = "GPL-3.0-only"

[tool.poetry.dependencies]
python = "^3.10,<3.12" # Version is held back by mistune
Django = "^3.2"
Pillow = "^9.2"
mistune = "^0.8.4"
django-jinja = "^2.10"
cryptography = "^40.0"
pyOpenSSL = "^23.1.1"
pytz = "^2021.1"
djangorestframework = "^3.13"
django-phonenumber-field = "^6.3"
phonenumbers = "^8.12"
django-ajax-selects = "^2.1.0"
reportlab = "^4.2"
django-haystack = "^3.2.1"
xapian-haystack = "^3.0.1"
libsass = "^0.22"
django-ordered-model = "^3.7"
django-simple-captcha = "^0.5.17"
python-dateutil = "^2.8.2"
psycopg2-binary = "^2.9"
sentry-sdk = "^1.21.0"
pygraphviz = "^1.1"
Jinja2 = "^3.1"
django-countries = "^7.5.1"
dict2xml = "^1.7.3"
Sphinx = "^5" # Needed for building xapian
tomli = "^2.0.1"

[tool.poetry.group.dev.dependencies]
freezegun = "^1.2.2"  # used to test time-dependent code
django-debug-toolbar = "^4.0.0"
ipython = "^8.26.0"
ruff = "^0.4.10"

[tool.poetry.group.tests.dependencies]
pytest = "^8.2.2"
pytest-cov = "^5.0.0"
pytest-django = "^4.8.0"

[tool.poetry.group.docs.dependencies]
sphinx-rtd-theme = "^1.0.0"
sphinx-copybutton = "^0.4.0"

[tool.poetry.group.docs]
optional = true

[tool.xapian]
version = "1.4.25"

[tool.ruff.lint]
select = ["I", "F401"]

[tool.pytest.ini_options]
DJANGO_SETTINGS_MODULE = "sith.settings"
python_files = ["tests.py", "test_*.py", "*_tests.py"]

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"
